<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: QAT::Configuration
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "QAT::Configuration";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../QAT.html" title="QAT (module)">QAT</a></span></span>
     &raquo; 
    <span class="title">Configuration</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: QAT::Configuration
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">QAT::Configuration</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>Forwardable</dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Configuration/Environment.html" title="QAT::Configuration::Environment (module)">Environment</a></span>, <span class='object_link'><a href="Configuration/Parser.html" title="QAT::Configuration::Parser (module)">Parser</a></span>, Logger, <span class='object_link'><a href="Utils/Network.html" title="QAT::Utils::Network (module)">Utils::Network</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/qat/configuration.rb<span class="defines">,<br />
  lib/qat/configuration/parser.rb,<br /> lib/qat/configuration/environment.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This class represents <span class='object_link'><a href="../QAT.html" title="QAT (module)">QAT</a></span>&#39;s Configuration manager</p>

<p>This class should be used to manage configurations from multiple environments in test projects. Given a defined environment, all configurations for that environment will be loaded into a cache from the corresponding folder (with the same name) under the <code>config</code> directory.</p>

<p>A <code>common</code> folder is also supported which contains configurations shared between multiple environments. A configuration file can exist in both the environment folder and the common folder with the content of both being merged at load time and the configuration from the environment taking precedence over the shared (common) configuration.</p>

<p>Also supported is the cross-referencing of configurations between files. Given a file &#39;foo.yml&#39; with a configuration &#39;foo: bar&#39; and a second file &#39;baz.yml&#39; with configuration &#39;baz: foo.foo&#39;, after configurations are loaded to cache, the value of &#39;baz&#39; in cache will be &#39;bar&#39;. Cross-referencing between files is made with syntax:</p>
<ul><li>
<p><tt>&lt;file.yml&gt;</tt></p>

<pre class="code ruby"><code class="ruby"><span class='backtick'>`</span><span class='tstring_content'>
key: &lt;other_file.yml&gt;.&lt;key&gt;
</span><span class='tstring_end'>`</span></span>
</code></pre>
</li></ul>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Configuration/Environment.html" title="QAT::Configuration::Environment (module)">Environment</a></span>, <span class='object_link'><a href="Configuration/Parser.html" title="QAT::Configuration::Parser (module)">Parser</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Configuration/InvalidFolderName.html" title="QAT::Configuration::InvalidFolderName (class)">InvalidFolderName</a></span>, <span class='object_link'><a href="Configuration/NoEnvironmentDefined.html" title="QAT::Configuration::NoEnvironmentDefined (class)">NoEnvironmentDefined</a></span>, <span class='object_link'><a href="Configuration/NoEnvironmentFolder.html" title="QAT::Configuration::NoEnvironmentFolder (class)">NoEnvironmentFolder</a></span>
    
  
</p>






  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Configuration/Environment.html" title="QAT::Configuration::Environment (module)">Environment</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Configuration/Environment.html#directory-instance_method" title="QAT::Configuration::Environment#directory (method)">#directory</a></span>, <span class='object_link'><a href="Configuration/Environment.html#environment-instance_method" title="QAT::Configuration::Environment#environment (method)">#environment</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(key)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a copy from cache to avoid data manipulation on runtime.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(directory = Dir.pwd, environment = nil)  &#x21d2; Configuration </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Configuration.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Configuration/Environment.html" title="QAT::Configuration::Environment (module)">Environment</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Configuration/Environment.html#each_environment-instance_method" title="QAT::Configuration::Environment#each_environment (method)">#each_environment</a></span>, <span class='object_link'><a href="Configuration/Environment.html#environments-instance_method" title="QAT::Configuration::Environment#environments (method)">#environments</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Utils/Network.html" title="QAT::Utils::Network (module)">Utils::Network</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Utils/Network.html#is_ip%3F-instance_method" title="QAT::Utils::Network#is_ip? (method)">#is_ip?</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(directory = Dir.pwd, environment = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="QAT::Configuration (class)">Configuration</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Configuration.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>directory</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Dir.pwd</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>path to configuration directory</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>environment</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>name of the environment from which configurations will be loaded</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/qat/configuration.rb', line 53</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_directory'>directory</span><span class='op'>=</span><span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span><span class='comma'>,</span> <span class='id identifier rubyid_environment'>environment</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_directory'>directory</span> <span class='op'>=</span> <span class='id identifier rubyid_directory'>directory</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Initializing configuration from directory </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_directory'>directory</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span> <span class='op'>=</span> <span class='id identifier rubyid_validate_environment'>validate_environment</span><span class='lparen'>(</span><span class='id identifier rubyid_environment'>environment</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_log'>log</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Initialized configuration with environment &#39;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-instance_method">
  
    #<strong>[]</strong>(key)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a copy from cache to avoid data manipulation on runtime</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>key</span>
      
      
        <span class='type'>(<tt>String|Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>cache key</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/qat/configuration.rb', line 63</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='ivar'>@cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_deep_dup'>deep_dup</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Jul  1 16:25:46 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.6.6).
</div>

    </div>
  </body>
</html>